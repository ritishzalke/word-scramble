class g{getStringForLocale(t,e){let r=this.strings[e];r||(r=p(e,this.strings,this.defaultLocale),this.strings[e]=r);let i=r[t];if(!i)throw new Error(`Could not find intl message ${t} in ${e} locale`);return i}constructor(t,e="en-US"){this.strings={...t},this.defaultLocale=e}}function p(a,t,e="en-US"){if(t[a])return t[a];let r=m(a);if(t[r])return t[r];for(let i in t)if(i.startsWith(r+"-"))return t[i];return t[e]}function m(a){return Intl.Locale?new Intl.Locale(a).language:a.split("-")[0]}const c=new Map,h=new Map;class y{format(t,e){let r=this.strings.getStringForLocale(t,this.locale);return typeof r=="function"?r(e,this):r}plural(t,e,r="cardinal"){let i=e["="+t];if(i)return typeof i=="function"?i():i;let s=this.locale+":"+r,n=c.get(s);n||(n=new Intl.PluralRules(this.locale,{type:r}),c.set(s,n));let o=n.select(t);return i=e[o]||e.other,typeof i=="function"?i():i}number(t){let e=h.get(this.locale);return e||(e=new Intl.NumberFormat(this.locale),h.set(this.locale,e)),e.format(t)}select(t,e){let r=t[e]||t.other;return typeof r=="function"?r():r}constructor(t,e){this.locale=t,this.strings=e}}let u=new Map,f=!1;try{f=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let l=!1;try{l=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const d={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class v{format(t){let e="";if(!f&&this.options.signDisplay!=null?e=$(this.numberFormatter,this.options.signDisplay,t):e=this.numberFormatter.format(t),this.options.style==="unit"&&!l){var r;let{unit:i,unitDisplay:s="short",locale:n}=this.resolvedOptions(),o=(r=d[i])===null||r===void 0?void 0:r[s];e+=o[n]||o.default}return e}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,e){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,e);if(e<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(e)}`}formatRangeToParts(t,e){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,e);if(e<t)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(e);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!f&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!l&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,e={}){this.numberFormatter=b(t,e),this.options=e}}function b(a,t={}){let{numberingSystem:e}=t;if(e&&a.indexOf("-u-nu-")===-1&&(a=`${a}-u-nu-${e}`),t.style==="unit"&&!l){var r;let{unit:n,unitDisplay:o="short"}=t;if(!n)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=d[n])===null||r===void 0)&&r[o]))throw new Error(`Unsupported unit ${n} with unitDisplay = ${o}`);t={...t,style:"decimal"}}let i=a+(t?Object.entries(t).sort((n,o)=>n[0]<o[0]?-1:1).join():"");if(u.has(i))return u.get(i);let s=new Intl.NumberFormat(a,t);return u.set(i,s),s}function $(a,t,e){if(t==="auto")return a.format(e);if(t==="never")return a.format(Math.abs(e));{let r=!1;if(t==="always"?r=e>0||Object.is(e,0):t==="exceptZero"&&(Object.is(e,-0)||Object.is(e,0)?e=Math.abs(e):r=e>0),r){let i=a.format(-e),s=a.format(e),n=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...n].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(n,"+").replace("!!!",s)}else return a.format(e)}}export{v as $,y as a,g as b};
